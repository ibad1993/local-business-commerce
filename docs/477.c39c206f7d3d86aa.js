"use strict";(self.webpackChunkharrys_coffee_stop=self.webpackChunkharrys_coffee_stop||[]).push([[477],{2477:(P,_,a)=>{a.r(_),a.d(_,{CartComponent:()=>M});var s=a(177),d=a(7945),c=a(5596),m=a(8834),p=a(9213),u=a(1997),g=a(882),C=a(9631),f=a(9417),t=a(4438),h=a(6042);function E(o,l){1&o&&(t.j41(0,"div",3)(1,"mat-icon",4),t.EFF(2,"shopping_cart"),t.k0s(),t.j41(3,"h2"),t.EFF(4,"Your cart is empty"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Add some delicious items to get started!"),t.k0s(),t.j41(7,"button",5),t.EFF(8," Continue Shopping "),t.k0s()())}function O(o,l){if(1&o){const n=t.RV6();t.j41(0,"mat-card",14)(1,"mat-card-content")(2,"div",15)(3,"div",16)(4,"h3"),t.EFF(5),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s(),t.j41(8,"p",17),t.EFF(9),t.k0s()(),t.j41(10,"div",18)(11,"div",19)(12,"button",20),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.updateQuantity(i.id,i.quantity-1))}),t.j41(13,"mat-icon"),t.EFF(14,"remove"),t.k0s()(),t.j41(15,"span",21),t.EFF(16),t.k0s(),t.j41(17,"button",22),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.updateQuantity(i.id,i.quantity+1))}),t.j41(18,"mat-icon"),t.EFF(19,"add"),t.k0s()()(),t.j41(20,"div",23)(21,"strong"),t.EFF(22),t.k0s()(),t.j41(23,"button",24),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.removeFromCart(i.id))}),t.j41(24,"mat-icon"),t.EFF(25,"delete"),t.k0s()()()()()()}if(2&o){const n=l.$implicit;t.R7$(5),t.JRh(n.product.name),t.R7$(2),t.JRh(n.product.description),t.R7$(2),t.SpI("$",n.product.price.toFixed(2)," each"),t.R7$(3),t.Y8G("disabled",n.quantity<=1),t.R7$(4),t.JRh(n.quantity),t.R7$(6),t.SpI("Total: $",n.totalPrice.toFixed(2),"")}}function x(o,l){if(1&o){const n=t.RV6();t.j41(0,"div",6)(1,"div",7),t.DNE(2,O,26,6,"mat-card",8),t.k0s(),t.j41(3,"div",9)(4,"mat-card")(5,"mat-card-header")(6,"mat-card-title"),t.EFF(7,"Order Summary"),t.k0s()(),t.j41(8,"mat-card-content")(9,"div",10)(10,"span"),t.EFF(11),t.k0s(),t.j41(12,"span"),t.EFF(13),t.k0s()(),t.nrm(14,"mat-divider"),t.j41(15,"div",11)(16,"span")(17,"strong"),t.EFF(18,"Total:"),t.k0s()(),t.j41(19,"span")(20,"strong"),t.EFF(21),t.k0s()()()(),t.j41(22,"mat-card-actions")(23,"button",12),t.EFF(24," Proceed to Checkout "),t.k0s(),t.j41(25,"button",13),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.clearCart())}),t.EFF(26," Clear Cart "),t.k0s()()()()()}if(2&o){const n=t.XpG();t.R7$(2),t.Y8G("ngForOf",n.cartItems),t.R7$(9),t.SpI("Items (",n.totalItems,"):"),t.R7$(2),t.SpI("$",n.subtotal.toFixed(2),""),t.R7$(8),t.SpI("$",n.total.toFixed(2),""),t.R7$(2),t.Y8G("disabled",0===n.cartItems.length),t.R7$(2),t.Y8G("disabled",0===n.cartItems.length)}}let M=(()=>{class o{constructor(n){this.cartService=n,this.cartItems=[],this.subtotal=0,this.total=0,this.totalItems=0}ngOnInit(){this.loadCartItems()}loadCartItems(){this.cartService.getCartItems().subscribe(n=>{this.cartItems=n,this.calculateTotals()})}calculateTotals(){this.subtotal=this.cartItems.reduce((n,e)=>n+e.totalPrice,0),this.total=this.subtotal,this.totalItems=this.cartItems.reduce((n,e)=>n+e.quantity,0)}updateQuantity(n,e){e>0&&this.cartService.updateQuantity(n,e)}removeFromCart(n){this.cartService.removeFromCart(n)}clearCart(){this.cartService.clearCart()}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(h.m))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-cart"]],standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"cart-page"],["class","empty-cart",4,"ngIf"],["class","cart-content",4,"ngIf"],[1,"empty-cart"],[1,"empty-cart-icon"],["mat-raised-button","","color","primary","routerLink","/home"],[1,"cart-content"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-summary"],[1,"summary-row"],[1,"summary-row","total"],["mat-raised-button","","color","primary","routerLink","/checkout",1,"checkout-btn",3,"disabled"],["mat-stroked-button","",3,"click","disabled"],[1,"cart-item"],[1,"item-details"],[1,"item-info"],[1,"item-price"],[1,"item-controls"],[1,"quantity-controls"],["mat-icon-button","",3,"click","disabled"],[1,"quantity"],["mat-icon-button","",3,"click"],[1,"item-total"],["mat-icon-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"Shopping Cart"),t.k0s(),t.DNE(3,E,9,0,"div",1)(4,x,27,6,"div",2),t.k0s()),2&e&&(t.R7$(3),t.Y8G("ngIf",0===i.cartItems.length),t.R7$(),t.Y8G("ngIf",i.cartItems.length>0))},dependencies:[s.MD,s.Sq,s.bT,d.iI,d.Wk,c.Hu,c.RN,c.YY,c.m2,c.MM,c.dh,m.Hl,m.$z,m.iY,p.m_,p.An,u.w,u.q,g.RG,C.fS,f.YN],styles:[".cart-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}h1[_ngcontent-%COMP%]{color:#5d4037;margin-bottom:30px;text-align:center}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-cart-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ccc;margin-bottom:20px}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#666;margin-bottom:10px}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;margin-bottom:30px}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:30px}.cart-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.cart-item[_ngcontent-%COMP%]{padding:20px}.item-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#5d4037;margin-bottom:8px}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:5px}.item-price[_ngcontent-%COMP%]{color:#ff9800;font-weight:500}.item-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.quantity[_ngcontent-%COMP%]{font-size:18px;font-weight:500;min-width:30px;text-align:center}.item-total[_ngcontent-%COMP%]{font-size:16px;color:#5d4037}.cart-summary[_ngcontent-%COMP%]{position:sticky;top:100px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;font-size:16px}.summary-row.total[_ngcontent-%COMP%]{font-size:18px;margin-top:10px}.checkout-btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}@media (max-width: 768px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.item-details[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.item-controls[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between}}"]})}}return o})()}}]);