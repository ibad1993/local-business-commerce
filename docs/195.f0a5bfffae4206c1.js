"use strict";(self.webpackChunkharrys_coffee_stop=self.webpackChunkharrys_coffee_stop||[]).push([[195],{7195:(D,p,a)=>{a.r(p),a.d(p,{LoginComponent:()=>O});var m=a(467),_=a(177),t=a(9417),c=a(7945),n=a(4438),u=a(8010);function f(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Email is required"),n.k0s())}function h(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Please enter a valid email"),n.k0s())}function C(o,s){if(1&o&&(n.j41(0,"div",18),n.DNE(1,f,2,0,"span",15)(2,h,2,0,"span",15),n.k0s()),2&o){n.XpG();const e=n.sdS(13);n.R7$(),n.Y8G("ngIf",null==e.errors?null:e.errors.required),n.R7$(),n.Y8G("ngIf",null==e.errors?null:e.errors.email)}}function M(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Password is required"),n.k0s())}function b(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Password must be at least 6 characters"),n.k0s())}function P(o,s){if(1&o&&(n.j41(0,"div",18),n.DNE(1,M,2,0,"span",15)(2,b,2,0,"span",15),n.k0s()),2&o){n.XpG();const e=n.sdS(19);n.R7$(),n.Y8G("ngIf",null==e.errors?null:e.errors.required),n.R7$(),n.Y8G("ngIf",null==e.errors?null:e.errors.minlength)}}function v(o,s){if(1&o&&(n.j41(0,"div",19),n.EFF(1),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.SpI(" ",e.errorMessage," ")}}function E(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Sign In"),n.k0s())}function x(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Signing In..."),n.k0s())}let O=(()=>{class o{constructor(e,l){this.authService=e,this.router=l,this.loginData={email:"",password:""},this.isLoading=!1,this.errorMessage=""}ngOnInit(){this.authService.getIsAuthenticated().subscribe(e=>{e&&this.router.navigate(["/"])})}onLogin(){var e=this;return(0,m.A)(function*(){if(!e.isLoading){e.isLoading=!0,e.errorMessage="";try{(yield e.authService.login(e.loginData.email,e.loginData.password))?e.router.navigate(["/"]):e.errorMessage="Invalid email or password. Please try again."}catch{e.errorMessage="An error occurred. Please try again."}finally{e.isLoading=!1}}})()}static{this.\u0275fac=function(l){return new(l||o)(n.rXU(u.u),n.rXU(c.Ix))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:30,vars:12,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","email","","placeholder","Enter your email",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message global-error",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[4,"ngIf"],[1,"login-footer"],["routerLink","/register",1,"link"],[1,"error-message"],[1,"error-message","global-error"]],template:function(l,i){if(1&l){const d=n.RV6();n.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"Welcome Back"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Sign in to your Harry's Coffee account"),n.k0s()(),n.j41(7,"form",6,0),n.bIt("ngSubmit",function(){return n.eBV(d),n.Njj(i.onLogin())}),n.j41(9,"div",7)(10,"label",8),n.EFF(11,"Email Address"),n.k0s(),n.j41(12,"input",9,1),n.mxI("ngModelChange",function(r){return n.eBV(d),n.DH7(i.loginData.email,r)||(i.loginData.email=r),n.Njj(r)}),n.k0s(),n.DNE(14,C,3,2,"div",10),n.k0s(),n.j41(15,"div",7)(16,"label",11),n.EFF(17,"Password"),n.k0s(),n.j41(18,"input",12,2),n.mxI("ngModelChange",function(r){return n.eBV(d),n.DH7(i.loginData.password,r)||(i.loginData.password=r),n.Njj(r)}),n.k0s(),n.DNE(20,P,3,2,"div",10),n.k0s(),n.DNE(21,v,2,1,"div",13),n.j41(22,"button",14),n.DNE(23,E,2,0,"span",15)(24,x,2,0,"span",15),n.k0s()(),n.j41(25,"div",16)(26,"p"),n.EFF(27,"Don't have an account? "),n.j41(28,"a",17),n.EFF(29,"Sign up here"),n.k0s()()()()()}if(2&l){const d=n.sdS(8),g=n.sdS(13),r=n.sdS(19);n.R7$(12),n.AVh("error",g.invalid&&g.touched),n.R50("ngModel",i.loginData.email),n.R7$(2),n.Y8G("ngIf",g.invalid&&g.touched),n.R7$(4),n.AVh("error",r.invalid&&r.touched),n.R50("ngModel",i.loginData.password),n.R7$(2),n.Y8G("ngIf",r.invalid&&r.touched),n.R7$(),n.Y8G("ngIf",i.errorMessage),n.R7$(),n.Y8G("disabled",d.invalid||i.isLoading),n.R7$(),n.Y8G("ngIf",!i.isLoading),n.R7$(),n.Y8G("ngIf",i.isLoading)}},dependencies:[_.MD,_.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.YS,t.xh,t.Dg,t.vS,t.cV,c.iI,c.Wk],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#8d6e63,#5d4037);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;padding:40px;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#5d4037;margin:0 0 10px;font-size:2rem;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.95rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;color:#333;font-weight:500;font-size:.9rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s ease;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8d6e63}.form-input.error[_ngcontent-%COMP%]{border-color:#f44336}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.8rem;margin-top:4px;display:block}.global-error[_ngcontent-%COMP%]{text-align:center;background:#ffebee;padding:10px;border-radius:6px;margin-bottom:15px}.login-btn[_ngcontent-%COMP%]{width:100%;background:#8d6e63;color:#fff;border:none;padding:14px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:background-color .3s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#6d4c41}.login-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.9rem}.link[_ngcontent-%COMP%]{color:#8d6e63;text-decoration:none;font-weight:500}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:30px 20px;margin:10px}}"]})}}return o})()}}]);